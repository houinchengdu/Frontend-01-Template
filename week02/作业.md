## 写一个正则表达式 匹配所有 Number 直接量

### 一、解释

ECMA-262(764页)第166页，Number直接量有四种：DecimalLiteral（十进制）、BinaryIntegerLiteral（二进制）、OctalIntegerLiteral（八进制）和HexIntegerLiteral（十六进制）。

#### 十进制

  - **第一种：**`十进制整数` + `.` + `0个或多个十进制数字` + `0个或1个指数部分`
  - **第二种：**`.` + `1个或多个十进制数字` + `0个或1个指数部分`
  - **第三种：**`十进制整数` + `0个或1个指数部分`
    - 十进制整数：
      - `0` 
      - `非0数字` + `0个或多个十进制数字`
        - 非0数字：**one of** `1 2 3 4 5 6 7 8 9`
    - 十进制数字：**one of** `0 1 2 3 4 5 6 7 8 9`
    - 指数部分：`e或E` + `有符号的整数`
      - 有符号的整数：
        - `十进制数字`
        - `+` + `十进制数字`
        - `-` + `十进制数字`

#### 二进制

`0b或0B` + `1个或多个二进制数字`

- 二进制数字：**one of** `0 1`
  

#### 八进制

`0o或0O` + `1个或多个位八进制数字`

  - 八进制数字：**one of** `0 1 2 3 4 5 6 7`

#### 十六进制

`0x或0X` + `1个或多个十六进制数字`

- 十六进制数字：**one of** `0 1 2 3 4 5 6 7 8 9 a b c d e f A B C D E F`

---

### 二、正则

#### 十进制

  对照上面的伪代码变成正则：

  - **第一种：**`^(0|[1-9]\d*)(\.)(\d*)?([eE][+-]?\d+)?$`
  - **第二种：**`^(\.)(\d*)([eE][+-]?\d+)?$`
  - **第三种：**`^(0|[1-9]\d*)([eE][+-]?\d+)?$`

  发现**第一种**和**第二种**中的`\.`可以和`\d*`放在一起，进行优化：

  - **第一种：**`^(0|[1-9]\d*)(\.\d*)?([eE][+-]?\d+)?$`
  - **第二种：**`^(\.\d*)([eE][+-]?\d+)?$`
  - **第三种：**`^(0|[1-9]\d*)([eE][+-]?\d+)?$`

  进行组合：


```
^(0|[1-9]\d*)(\.\d*)?([eE][+-]?\d+)?|(\.\d*)([eE][+-]?\d+)?|(0|[1-9]\d*)([eE][+-]?\d+)?$
```

  发现**第一种**其实包含**第三种**，进行优化 **最终版**：

  ```
^(0|[1-9]\d*)(\.\d*)?([eE][+-]?\d+)?|(\.\d*)([eE][+-]?\d+)?$
  ```

#### 二进制

  `^0[bB][01]+$`

#### 八进制

  `^0[oO][0-7]+$`

#### 十六进制

  `^0[xX][0-9a-fA-F]+$`

全部组合：

```
^(0|[1-9]\d*)(\.\d*)?([eE][+-]?\d+)?|(\.\d*)([eE][+-]?\d+)?|0[bB][01]+|0[oO][0-7]+|0[xX][0-9a-fA-F]+$
```

十进制可以放在一组，优化（也可以不放）：

```
^((0|[1-9]\d*)(\.\d*)?([eE][+-]?\d+)?|(\.\d*)([eE][+-]?\d+)?)|0[bB][01]+|0[oO][0-7]+|0[xX][0-9a-fA-F]+$
```

数字最前面加`+-`号，优化 **最终版**：

```
^[+-]?(((0|[1-9]\d*)(\.\d*)?([eE][+-]?\d+)?|(\.\d*)([eE][+-]?\d+)?)|0[bB][01]+|0[oO][0-7]+|0[xX][0-9a-fA-F]+)$
```



## 写一个 UTF-8 Encoding 的函数

还不会

## 写一个正则表达式，匹配所有的字符串直接量，单引号和双引号

待修改

### 解释

ECMA-262(764页)第170页，String直接量

字符串文字是用单引号或双引号引起来的零个或多个Unicode代码点。 Unicode代码点也可能由转义序列表示。除右引号外，所有代码点都可能按字面意义显示在字符串文字中代码点U 005C（反面固体），U 000D（回车）和U 000A（线路进给）。任何代码点可能以转义序列的形式出现。字符串文字的计算结果为ECMAScript字符串值。生成这些字符串值时，Unicode代码点已按照10.1.1中的定义进行UTF-16编码。属于的代码点基本多语言平面被编码为字符串的单个代码单元元素。所有其他代码点均编码为字符串的两个代码单元元素。

#### 双引号

- `"双引号字符s"`
  - 双引号字符s：双引号字符
    - 
      - `源字符`（但不是这几个：`" ` `\` `换行符`）
        - 源字符：任何Unicode码点
        - 换行符
      - \<LS>（分行符）
      - \<PS>（分段符）
      - \ `转义序列`
        - 转义序列
          - 
      - 续行符
        - 换行符序列

## 完成一篇本周的学习总结

